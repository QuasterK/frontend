(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,r){e.exports=r(52)},36:function(e,t,r){},38:function(e,t,r){},45:function(e,t,r){},47:function(e,t,r){},52:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(25),o=r.n(c),s=(r(36),r(13)),u=r(14),i=r(17),l=r(15),h=r(18),A=(r(38),r(16)),m=(r(45),function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).showListOfAuthors=function(){(0,r.props.getAuthors)()},r.chooseAuthor=function(e,t){var n=r.props,a=n.getStats,c=n.increaseNumOfAuthors,o=n.calc,s=n.chooseAuthor,u=n.deactivate,i=n.deleteAuthorFromList,l=n.deactivateAllButton;a(e).then(function(){return c(1)}).then(function(){return o(!0)}).then(function(){return s(t)}).then(function(){"All Authors"===t?u(!1):(i(t),l("All Authors"))})},r.handleReset=function(){(0,r.props.reset)(!1)},r}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=this,r=this.props,n=r.authorsArray,c=r.active,o=r.chosenAuthor,s=n.map(function(e,r){return a.a.createElement("div",{key:r,className:!0===c?"author":"deactivate",onClick:function(){t.chooseAuthor(e.key,e.name)}},e.name)});return null!==o&&(e=o.map(function(e,t){return a.a.createElement("div",{key:t,className:"chosenAuthor"},e)})),a.a.createElement("div",{className:"authors-container"},a.a.createElement("div",null,a.a.createElement("div",{className:"button",onClick:this.showListOfAuthors},"List of Authors"),a.a.createElement("div",{className:"Authors"},s)),a.a.createElement("div",null,a.a.createElement("div",{className:"chosenAuthors"},"chosen authors : "),a.a.createElement("div",null,e)),a.a.createElement("div",null,a.a.createElement("div",{className:"resetButton",onClick:this.handleReset},"RESET ALL")))}}]),t}(n.Component)),f=Object(A.b)(function(e){return{authorsArray:e.authors.authorsArray,numOfAuthors:e.authors.numOfAuthors,chosenAuthor:e.authors.chosenAuthors,active:e.active.active}},function(e){return{getAuthors:function(){return e({type:"GET_AUTHORS"}),Promise.resolve()},getStats:function(t){return e({type:"GET_STATS",id:t}),Promise.resolve()},calc:function(t){e({type:"CALC_SUM",calc:t})},increaseNumOfAuthors:function(t){return e({type:"INCREASE_NUM_OF_AUTHORS",increase:t}),Promise.resolve()},chooseAuthor:function(t){return e({type:"CHOOSE_AUTHOR",chosen:t}),Promise.resolve()},reset:function(){e({type:"RESET"})},deactivate:function(t){return e({type:"ACTIVATE",active:t}),Promise.resolve()},deactivateAllButton:function(t){return e({type:"DEACTIVATE_ALL_BUTTON",deactivate:t}),Promise.resolve()},deleteAuthorFromList:function(t){return e({type:"DELETE_AUTHOR_FROM_LIST",del:t}),Promise.resolve()}}})(m),O=r(21),d=(r(47),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillUpdate",value:function(){var e=this,t=this.props,r=t.getNumOfAuthors,n=t.shouldCalcSum,a=t.createArrayOfWords,c=t.getStats,o=t.calcSumBoolean,s=t.sumWords,u=t.createNextAuthorsWords,i=t.getSumOfWords;if(r>0&&(1===r&&!0===n&&a(c.words).then(function(){return o(!1)}).then(function(){return s(c.words)}),r>1&&!0===n)){var l={};u(c.words).then(function(){var t=e.props.getWordsNextAuthor,r=i;Object.keys(r).filter(function(e){return l[e]=r[e]+t[e]})}).then(this.props.calcSumBoolean(!1)).then(function(){return e.props.sumWords(l)})}}},{key:"render",value:function(){var e=this.props.getSumOfWords,t=[];for(var r in e)t.push(Object(O.a)({},r,e[r]));var n=0,c=t.map(function(e){var t=Object.keys(e),r=Object.values(e);return n++,a.a.createElement("tr",{key:Math.random()},a.a.createElement("td",null,n),a.a.createElement("td",null,t),a.a.createElement("td",null,r))});return a.a.createElement("div",null,a.a.createElement("div",{className:"Stats"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("td",null),a.a.createElement("td",null,"WORDS"),a.a.createElement("td",null,"COUNT"))),a.a.createElement("tbody",null,c))))}}]),t}(n.Component)),E=Object(A.b)(function(e){return{getStats:e.stats.stats,getNumOfAuthors:e.authors.numOfAuthors,getWordsNextAuthor:e.stats.wordsNextAuthor,getSumOfWords:e.stats.wordsSum,shouldCalcSum:e.calc.calc}},function(e){return{createArrayOfWords:function(t){return e({type:"CREATE_ARRAY_OF_WORDS",obj:t}),Promise.resolve()},createNextAuthorsWords:function(t){return e({type:"CREATE_NEXT_ARRAY_OF_WORDS",words:t}),Promise.resolve()},sumWords:function(t){return e({type:"SUM_WORDS",words:t}),Promise.resolve()},calcSumBoolean:function(t){e({type:"CALC_SUM",calc:t})}}})(d),v=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(f,null),a.a.createElement(E,null))}}]),t}(n.Component),p=r(19),T=r(29),b=r(30),S=r(6),_={authors:{},authorsArray:[],numOfAuthors:0,chosenAuthors:null},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_AUTHORS":return Object(S.a)({},e);case"AUTHOR_FETCH_SUCCEEDED":var r=t.getAuthors,n=[{name:"All Authors",key:""}];for(var a in r)r.hasOwnProperty(a)&&n.push({name:r[a],key:a});return Object(S.a)({},e,{authors:r,authorsArray:n});case"INCREASE_NUM_OF_AUTHORS":var c=e.numOfAuthors+t.increase;return Object(S.a)({},e,{numOfAuthors:c});case"CHOOSE_AUTHOR":return Object(S.a)({},e,{chosenAuthors:null===e.chosenAuthors?[t.chosen]:Object(b.a)(e.chosenAuthors).concat([t.chosen])});case"DEACTIVATE_ALL_BUTTON":var o=e.authorsArray.filter(function(e){return t.deactivate!==e.name});return Object(S.a)({},e,{authorsArray:o});case"DELETE_AUTHOR_FROM_LIST":var s=e.authorsArray.filter(function(e){return t.del!==e.name});return Object(S.a)({},e,{authorsArray:s});default:return e}},j={stats:[],words:[],wordsNextAuthor:[],wordsSum:[]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STATS":return Object(S.a)({},e);case"STATS_FETCH_SUCCEEDED":var r=t.getStats;return Object(S.a)({},e,{stats:r});case"CREATE_ARRAY_OF_WORDS":return Object(S.a)({},e,{words:t.obj});case"CREATE_NEXT_ARRAY_OF_WORDS":return Object(S.a)({},e,{wordsNextAuthor:t.words});case"SUM_WORDS":return Object(S.a)({},e,{wordsSum:t.words});default:return e}},R={calc:!1},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CALC_SUM":return{calc:t.calc};default:return e}},g={active:!0},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;return"ACTIVATE"===t.type?Object(S.a)({},e,{active:t.active}):e},U=r(11),k=r.n(U),x=r(9),D=k.a.mark(F),H=k.a.mark(I),L=k.a.mark(P),W=k.a.mark(M);function F(){var e;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://127.0.0.1:8080/authors").then(function(e){return e.json()});case 3:return e=t.sent,t.next=6,Object(x.b)({type:"AUTHOR_FETCH_SUCCEEDED",getAuthors:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(x.b)({type:"AUTHOR_FETCH_FAILED",message:t.t0.message});case 12:case"end":return t.stop()}},D,this,[[0,8]])}function I(e){var t,r;return k.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("http://127.0.0.1:8080/stats/".concat(e.id)).then(function(e){return e.json()});case 3:return t=n.sent,r={name:e.id,words:t},n.next=7,Object(x.b)({type:"STATS_FETCH_SUCCEEDED",getStats:r});case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(x.b)({type:"STATS_FETCH_FAILED",message:n.t0.message});case 13:case"end":return n.stop()}},H,this,[[0,9]])}function P(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.c)("GET_AUTHORS",F);case 2:return e.next=4,Object(x.c)("GET_STATS",I);case 4:case"end":return e.stop()}},L,this)}function M(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)([P()]);case 2:case"end":return e.stop()}},W,this)}var B=Object(T.a)(),G=Object(p.c)({authors:y,stats:C,calc:w,active:N}),V=Object(p.d)(function(e,t){return"RESET"===t.type&&(e=void 0),G(e,t)},Object(p.a)(B));B.run(M);var Y=V,J=r(54),X=r(55);o.a.render(a.a.createElement(A.a,{store:Y},a.a.createElement(J.a,null,a.a.createElement(X.a,{path:"/stats",component:v}))),document.getElementById("root"))}},[[31,2,1]]]);
//# sourceMappingURL=main.148c9292.chunk.js.map